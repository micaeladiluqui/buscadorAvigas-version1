<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>BUSCADOR A° VIGAS</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
    <h1>BUSCADOR A° VIGAS</h1>
    <div class="tabs">
        <button class="tab-button active" onclick="showTab('buscar1')">A° combinada</button>
        <button class="tab-button" onclick="showTab('buscar2')">A° no combinada</button>
    </div>
    
    <div id="buscar1" class="tab active">
        <h2>Introduce el área necesaria por flexión</h2>
        <input type="number" id="valor_objetivo_1" placeholder="As [cm²]">
        <button id="buscar_valor_1">Buscar</button>
        <h3>Resultados:</h3>
        <pre id="resultado_busqueda_1"></pre>
    </div>

    <div id="buscar2" class="tab">
        <h2>Introduce el área necesaria por flexión</h2>
        <input type="number" id="valor_objetivo_2" placeholder="As [cm²]">
        <button id="buscar_valor_2">Buscar</button>
        <h3>Resultados:</h3>
        <pre id="resultado_busqueda_2"></pre>
    </div>

    <py-script>
        def encontrar_valores_mas_cercanos(matriz, valor_objetivo, n=10):
            valores_cercanos = []
            for i in range(len(matriz)):
                for j in range(len(matriz[i])):
                    valor_actual = matriz[i][j]
                    if valor_actual >= valor_objetivo:
                        diferencia = abs(valor_actual - valor_objetivo)
                        valores_cercanos.append((diferencia, valor_actual, i, j))
            valores_cercanos.sort(key=lambda x: x[0])
            return valores_cercanos[:n]

        def buscar_valor_1(event):
            try:
                valor_objetivo = float(Element("valor_objetivo_1").element.value)
                matriz_1 = [
                [0.566,0.849,1.132,1.415,1.698,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0.849,1.132,1.415,1.698,1.981,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1.132,1.415,1.698,1.981,2.264,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1.415,1.698,1.981,2.264,2.547,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1.698,1.981,2.264,2.547,2.83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0.786,1.069,1.352,1.635,1.918,1.006,1.509,2.012,2.515,3.018,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1.289,1.572,1.855,2.138,2.421,1.509,2.012,2.515,3.018,3.521,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1.792,2.075,2.358,2.641,2.924,2.012,2.515,3.018,3.521,4.024,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [2.295,2.578,2.861,3.144,3.427,2.515,3.018,3.521,4.024,4.527,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [2.798,3.081,3.364,3.647,3.93,3.018,3.521,4.024,4.527,5.03,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1.068,1.351,1.634,1.917,2.2,1.288,1.791,2.294,2.797,3.3,1.57,2.355,3.14,3.925,4.71,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1.853,2.136,2.419,2.702,2.985,2.073,2.576,3.079,3.582,4.085,2.355,3.14,3.925,4.71,5.495,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [2.638,2.921,3.204,3.487,3.77,2.858,3.361,3.864,4.367,4.87,3.14,3.925,4.71,5.495,6.28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [3.423,3.706,3.989,4.272,4.555,3.643,4.146,4.649,5.152,5.655,3.925,4.71,5.495,6.28,7.065,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [4.208,4.491,4.774,5.057,5.34,4.428,4.931,5.434,5.937,6.44,4.71,5.495,6.28,7.065,7.85,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [1.414,1.697,1.98,2.263,2.546,1.634,2.137,2.64,3.143,3.646,1.916,2.701,3.486,4.271,5.056,2.262,3.393,4.524,5.655,6.786,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [2.545,2.828,3.111,3.394,3.677,2.765,3.268,3.771,4.274,4.777,3.047,3.832,4.617,5.402,6.187,3.393,4.524,5.655,6.786,7.917,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [3.676,3.959,4.242,4.525,4.808,3.896,4.399,4.902,5.405,5.908,4.178,4.963,5.748,6.533,7.318,4.524,5.655,6.786,7.917,9.048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [4.807,5.09,5.373,5.656,5.939,5.027,5.53,6.033,6.536,7.039,5.309,6.094,6.879,7.664,8.449,5.655,6.786,7.917,9.048,10.179,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [5.938,6.221,6.504,6.787,7.07,6.158,6.661,7.164,7.667,8.17,6.44,7.225,8.01,8.795,9.58,6.786,7.917,9.048,10.179,11.31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [2.294,2.577,2.86,3.143,3.426,2.514,3.017,3.52,4.023,4.526,2.796,3.581,4.366,5.151,5.936,3.142,4.273,5.404,6.535,7.666,4.022,6.033,8.044,10.055,12.066,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [4.305,4.588,4.871,5.154,5.437,4.525,5.028,5.531,6.034,6.537,4.807,5.592,6.377,7.162,7.947,5.153,6.284,7.415,8.546,9.677,6.033,8.044,10.055,12.066,14.077,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [6.316,6.599,6.882,7.165,7.448,6.536,7.039,7.542,8.045,8.548,6.818,7.603,8.388,9.173,9.958,7.164,8.295,9.426,10.557,11.688,8.044,10.055,12.066,14.077,16.088,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [8.327,8.61,8.893,9.176,9.459,8.547,9.05,9.553,10.056,10.559,8.829,9.614,10.399,11.184,11.969,9.175,10.306,11.437,12.568,13.699,10.055,12.066,14.077,16.088,18.099,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [10.338,10.621,10.904,11.187,11.47,10.558,11.061,11.564,12.067,12.57,10.84,11.625,12.41,13.195,13.98,11.186,12.317,13.448,14.579,15.71,12.066,14.077,16.088,18.099,20.11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [3.425,3.708,3.991,4.274,4.557,3.645,4.148,4.651,5.154,5.657,3.927,4.712,5.497,6.282,7.067,4.273,5.404,6.535,7.666,8.797,5.153,7.164,9.175,11.186,13.197,6.284,9.426,12.568,15.71,18.852,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [6.567,6.85,7.133,7.416,7.699,6.787,7.29,7.793,8.296,8.799,7.069,7.854,8.639,9.424,10.209,7.415,8.546,9.677,10.808,11.939,8.295,10.306,12.317,14.328,16.339,9.426,12.568,15.71,18.852,21.994,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [9.709,9.992,10.275,10.558,10.841,9.929,10.432,10.935,11.438,11.941,10.211,10.996,11.781,12.566,13.351,10.557,11.688,12.819,13.95,15.081,11.437,13.448,15.459,17.47,19.481,12.568,15.71,18.852,21.994,25.136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [12.851,13.134,13.417,13.7,13.983,13.071,13.574,14.077,14.58,15.083,13.353,14.138,14.923,15.708,16.493,13.699,14.83,15.961,17.092,18.223,14.579,16.59,18.601,20.612,22.623,15.71,18.852,21.994,25.136,28.278,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [15.993,16.276,16.559,16.842,17.125,16.213,16.716,17.219,17.722,18.225,16.495,17.28,18.065,18.85,19.635,16.841,17.972,19.103,20.234,21.365,17.721,19.732,21.743,23.754,25.765,18.852,21.994,25.136,28.278,31.42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [5.192,5.475,5.758,6.041,6.324,5.412,5.915,6.418,6.921,7.424,5.694,6.479,7.264,8.049,8.834,6.04,7.171,8.302,9.433,10.564,6.92,8.931,10.942,12.953,14.964,8.051,11.193,14.335,17.477,20.619,9.818,14.727,19.636,24.545,29.454,0,0,0,0,0,0,0,0,0,0],
                [10.101,10.384,10.667,10.95,11.233,10.321,10.824,11.327,11.83,12.333,10.603,11.388,12.173,12.958,13.743,10.949,12.08,13.211,14.342,15.473,11.829,13.84,15.851,17.862,19.873,12.96,16.102,19.244,22.386,25.528,14.727,19.636,24.545,29.454,34.363,0,0,0,0,0,0,0,0,0,0],
                [15.01,15.293,15.576,15.859,16.142,15.23,15.733,16.236,16.739,17.242,15.512,16.297,17.082,17.867,18.652,15.858,16.989,18.12,19.251,20.382,16.738,18.749,20.76,22.771,24.782,17.869,21.011,24.153,27.295,30.437,19.636,24.545,29.454,34.363,39.272,0,0,0,0,0,0,0,0,0,0],
                [19.919,20.202,20.485,20.768,21.051,20.139,20.642,21.145,21.648,22.151,20.421,21.206,21.991,22.776,23.561,20.767,21.898,23.029,24.16,25.291,21.647,23.658,25.669,27.68,29.691,22.778,25.92,29.062,32.204,35.346,24.545,29.454,34.363,39.272,44.181,0,0,0,0,0,0,0,0,0,0],
                [24.828,25.111,25.394,25.677,25.96,25.048,25.551,26.054,26.557,27.06,25.33,26.115,26.9,27.685,28.47,25.676,26.807,27.938,29.069,30.2,26.556,28.567,30.578,32.589,34.6,27.687,30.829,33.971,37.113,40.255,29.454,34.363,39.272,44.181,49.09,0,0,0,0,0,0,0,0,0,0],
                [8.325,8.608,8.891,9.174,9.457,8.545,9.048,9.551,10.054,10.557,8.827,9.612,10.397,11.182,11.967,9.173,10.304,11.435,12.566,13.697,10.053,12.064,14.075,16.086,18.097,11.184,14.326,17.468,20.61,23.752,12.951,17.86,22.769,27.678,32.587,16.084,24.126,32.168,40.21,48.252,0,0,0,0,0],
                [16.367,16.65,16.933,17.216,17.499,16.587,17.09,17.593,18.096,18.599,16.869,17.654,18.439,19.224,20.009,17.215,18.346,19.477,20.608,21.739,18.095,20.106,22.117,24.128,26.139,19.226,22.368,25.51,28.652,31.794,20.993,25.902,30.811,35.72,40.629,24.126,32.168,40.21,48.252,56.294,0,0,0,0,0],
                [24.409,24.692,24.975,25.258,25.541,24.629,25.132,25.635,26.138,26.641,24.911,25.696,26.481,27.266,28.051,25.257,26.388,27.519,28.65,29.781,26.137,28.148,30.159,32.17,34.181,27.268,30.41,33.552,36.694,39.836,29.035,33.944,38.853,43.762,48.671,32.168,40.21,48.252,56.294,64.336,0,0,0,0,0],
                [32.451,32.734,33.017,33.3,33.583,32.671,33.174,33.677,34.18,34.683,32.953,33.738,34.523,35.308,36.093,33.299,34.43,35.561,36.692,37.823,34.179,36.19,38.201,40.212,42.223,35.31,38.452,41.594,44.736,47.878,37.077,41.986,46.895,51.804,56.713,40.21,48.252,56.294,64.336,72.378,0,0,0,0,0],
                [40.493,40.776,41.059,41.342,41.625,40.713,41.216,41.719,42.222,42.725,40.995,41.78,42.565,43.35,44.135,41.341,42.472,43.603,44.734,45.865,42.221,44.232,46.243,48.254,50.265,43.352,46.494,49.636,52.778,55.92,45.119,50.028,54.937,59.846,64.755,48.252,56.294,64.336,72.378,80.42,0,0,0,0,0],
                [12.849,13.132,13.415,13.698,13.981,13.069,13.572,14.075,14.578,15.081,13.351,14.136,14.921,15.706,16.491,13.697,14.828,15.959,17.09,18.221,14.577,16.588,18.599,20.61,22.621,15.708,18.85,21.992,25.134,28.276,17.475,22.384,27.293,32.202,37.111,20.608,28.65,36.692,44.734,52.776,25.132,37.698,50.264,62.83,75.396],
                [25.415,25.698,25.981,26.264,26.547,25.635,26.138,26.641,27.144,27.647,25.917,26.702,27.487,28.272,29.057,26.263,27.394,28.525,29.656,30.787,27.143,29.154,31.165,33.176,35.187,28.274,31.416,34.558,37.7,40.842,30.041,34.95,39.859,44.768,49.677,33.174,41.216,49.258,57.3,65.342,37.698,50.264,62.83,75.396,87.962],
                [37.981,38.264,38.547,38.83,39.113,38.201,38.704,39.207,39.71,40.213,38.483,39.268,40.053,40.838,41.623,38.829,39.96,41.091,42.222,43.353,39.709,41.72,43.731,45.742,47.753,40.84,43.982,47.124,50.266,53.408,42.607,47.516,52.425,57.334,62.243,45.74,53.782,61.824,69.866,77.908,50.264,62.83,75.396,87.962,100.528],
                [50.547,50.83,51.113,51.396,51.679,50.767,51.27,51.773,52.276,52.779,51.049,51.834,52.619,53.404,54.189,51.395,52.526,53.657,54.788,55.919,52.275,54.286,56.297,58.308,60.319,53.406,56.548,59.69,62.832,65.974,55.173,60.082,64.991,69.9,74.809,58.306,66.348,74.39,82.432,90.474,62.83,75.396,87.962,100.528,113.094],
                [63.113,63.396,63.679,63.962,64.245,63.333,63.836,64.339,64.842,65.345,63.615,64.4,65.185,65.97,66.755,63.961,65.092,66.223,67.354,68.485,64.841,66.852,68.863,70.874,72.885,65.972,69.114,72.256,75.398,78.54,67.739,72.648,77.557,82.466,87.375,70.872,78.914,86.956,94.998,103.04,75.396,87.962,100.528,113.094,125.66],
                ]
                columnas = ["1Ø6","2Ø6","3Ø6","4Ø6","5Ø6","1Ø8","2Ø8","3Ø8","4Ø8","5Ø8","1Ø10","2Ø10","3Ø10","4Ø10","5Ø10","1Ø12","2Ø12","3Ø12","4Ø12","5Ø12","1Ø16","2Ø16","3Ø16","4Ø16","5Ø16","1Ø20","2Ø20","3Ø20","4Ø20","5Ø20","1Ø25","2Ø25","3Ø25","4Ø25","5Ø25","1Ø32","2Ø32","3Ø32","4Ø32","5Ø32","1Ø40","2Ø40","3Ø40","4Ø40","5Ø40"]
                filas = ["1Ø6","2Ø6","3Ø6","4Ø6","5Ø6","1Ø8","2Ø8","3Ø8","4Ø8","5Ø8","1Ø10","2Ø10","3Ø10","4Ø10","5Ø10","1Ø12","2Ø12","3Ø12","4Ø12","5Ø12","1Ø16","2Ø16","3Ø16","4Ø16","5Ø16","1Ø20","2Ø20","3Ø20","4Ø20","5Ø20","1Ø25","2Ø25","3Ø25","4Ø25","5Ø25","1Ø32","2Ø32","3Ø32","4Ø32","5Ø32","1Ø40","2Ø40","3Ø40","4Ø40","5Ø40"]

                resultados = encontrar_valores_mas_cercanos(matriz_1, valor_objetivo)
                resultado_texto = ""
                for diferencia, valor, fila_idx, columna_idx in resultados:
                    resultado_texto += f"Asreal={valor} cm² ({columnas[columna_idx]} + {filas[fila_idx]})\n"
                
                Element("resultado_busqueda_1").element.innerText = resultado_texto if resultado_texto else "No hay valores disponibles."
            except ValueError:
                Element("resultado_busqueda_1").element.innerText = "Por favor, ingresa un número válido."

        def buscar_valor_2(event):
            try:
                valor_objetivo = float(Element("valor_objetivo_2").element.value)
                matriz_2 = [
                [0.28, 0.56, 0.85, 1.13, 1.41, 1.70, 1.98, 2.26, 2.54, 2.83],
                [0.50, 1.00, 1.51, 2.01, 2.51, 3.01, 3.52, 4.02, 4.52, 5.03],
                [0.79, 1.57, 2.36, 3.14, 3.93, 4.71, 5.50, 6.28, 7.07, 7.85],
                [1.13, 2.26, 3.39, 4.52, 5.65, 6.79, 7.92, 9.05, 10.18, 11.31],
                [2.01, 4.02, 6.03, 8.04, 10.05, 12.06, 14.07, 16.08, 18.10, 20.11],
                [3.14, 6.28, 9.42, 12.57, 15.71, 18.84, 21.99, 25.14, 28.27, 31.42],
                [4.91, 9.82, 14.73, 19.64, 24.55, 29.46, 34.37, 39.28, 44.19, 19.10],
                [8.04, 16.08, 24.13, 32.17, 40.21, 48.26, 56.30, 64.34, 72.38, 80.42],
                [12.57, 25.13, 37.70, 50.26, 62.83, 75.40, 87.96, 100.53, 113.10, 125.66],
                ]
                columnas = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"]
                filas = ["Ø6", "Ø8", "Ø10", "Ø12", "Ø16", "Ø20", "Ø25",
              "Ø32", "Ø40"]

                resultados = encontrar_valores_mas_cercanos(matriz_2, valor_objetivo)
                resultado_texto = ""
                for diferencia, valor, fila_idx, columna_idx in resultados:
                    resultado_texto += f"Asreal={valor} cm² ({columnas[columna_idx]}{filas[fila_idx]})\n"
                
                Element("resultado_busqueda_2").element.innerText = resultado_texto if resultado_texto else "No hay valores disponibles."
            except ValueError:
                Element("resultado_busqueda_2").element.innerText = "Por favor, ingresa un número válido."

        # Asignar eventos a los botones
        Element("buscar_valor_1").element.onclick = buscar_valor_1
        Element("buscar_valor_2").element.onclick = buscar_valor_2
    </py-script>

    <script>
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const buttons = document.querySelectorAll('.tab-button');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            const activeButton = Array.from(buttons).find(button => button.textContent.toLowerCase() === tabName);
            if (activeButton) activeButton.classList.add('active');
        }
    </script>
</body>
</html>